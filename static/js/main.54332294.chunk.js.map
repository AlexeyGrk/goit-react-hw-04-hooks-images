{"version":3,"sources":["components/ButtonLoadMore/ButtonLoadMore.styled.js","components/ButtonLoadMore/ButtonLoadMore.jsx","components/ImageGalleryItem/ImageGalleryItem.styled.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.styled.js","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.styled.js","components/Modal/Modal.jsx","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.jsx","components/SearchBar/SearchBar.styled.js","components/SearchBar/SearchBar.jsx","components/StartMessage/StartMessage.styled.js","App.js","components/StartMessage/StartMessage.jsx","index.js"],"names":["ButtonLMoreContainer","ButtonLMore","ButtonLoadMore","onClick","this","props","handleNextPage","Component","ImageGalleryItemStyled","ImageGalleryItem","children","Imagegallery","ImageGallery","images","handleLargeImages","map","id","webformatURL","largeImageURL","src","alt","OverlayWindow","ModalWindow","Modal","handleBackDropClick","Searchform","SearchformButton","SearchformButtonLabel","SearchformInput","SearchForm","onSubmit","handleInput","className","type","autocomplete","placeholder","name","Searchbar","SearchBar","state","handleInputValue","getItemsGalleryImages","resetPage","timer","MessageContainer","Message","StartMessage","signal","AbortController","App","useState","inputValue","setInputValue","setImages","selectedImg","setSelectedImg","page","setPage","isLoading","setIsLoading","error","setError","showModal","setShowModal","e","clearTimeout","useEffect","axios","get","then","response","data","hits","catch","finally","window","addEventListener","code","preventDefault","target","elements","value","color","height","width","timeout","style","display","justifyContent","nodeName","dataset","sorce","message","length","prevPage","setTimeout","scrollTo","top","document","documentElement","scrollHeight","behavior","currentTarget","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.54332294.chunk.js","sourcesContent":["import styled from \"@emotion/styled/macro\";\nexport const ButtonLMoreContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nexport const ButtonLMore = styled.button`\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  max-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n  &:hover {\n    background-color: #303f9f;\n  }\n  &: focus {\n    background-color: #303f9f;\n  }\n`;\n","import React, { Component } from \"react\";\nimport { ButtonLMore, ButtonLMoreContainer } from \"./ButtonLoadMore.styled\";\n\nexport class ButtonLoadMore extends Component {\n  render() {\n    return (\n      <>\n        <ButtonLMoreContainer>\n          <ButtonLMore onClick={this.props.handleNextPage}>\n            Load More\n          </ButtonLMore>\n        </ButtonLMoreContainer>\n      </>\n    );\n  }\n}\n\nexport default ButtonLoadMore;\n","import styled from \"@emotion/styled/macro\";\nexport const ImageGalleryItemStyled = styled.li`\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n  & img {\n    width: 100%;\n    height: 260px;\n    object-fit: cover;\n    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    &:hover {\n      transform: scale(1.03);\n      cursor: zoom-in;\n    }\n  }\n`;\n","import React, { Component } from \"react\";\nimport { ImageGalleryItemStyled } from \"./ImageGalleryItem.styled\";\n\nexport class ImageGalleryItem extends Component {\n  render() {\n    return (\n      <ImageGalleryItemStyled>{this.props.children}</ImageGalleryItemStyled>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import styled from \"@emotion/styled/macro\";\nexport const Imagegallery = styled.ul`\n    display: grid;\n    max-width: calc(100vw - 48px);\n    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n    grid-gap: 16px;\n    margin-top: 0;\n    margin-bottom: 0;\n    padding: 0;\n    list-style: none;\n    margin-left: auto;\n    margin-right: auto;\n  }\n`;\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nimport { Imagegallery } from \"./ImageGallery.styled\";\n\nconst ImageGallery = ({ images, handleLargeImages }) => {\n  return (\n    <Imagegallery>\n      {images.map(({ id, webformatURL, largeImageURL }) => {\n        return (\n          <ImageGalleryItem key={id}>\n            <img\n              src={webformatURL}\n              alt=\"photoAction\"\n              data-sorce={largeImageURL}\n              onClick={handleLargeImages}\n            />\n          </ImageGalleryItem>\n        );\n      })}\n    </Imagegallery>\n  );\n};\n\nexport default ImageGallery;\n","import styled from \"@emotion/styled/macro\";\nexport const OverlayWindow = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n`;\nexport const ModalWindow = styled.div`\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n`;\n","import React, { Component } from \"react\";\nimport { ModalWindow, OverlayWindow } from \"./Modal.styled\";\n\nexport class Modal extends Component {\n  render() {\n    return (\n      <OverlayWindow onClick={this.props.handleBackDropClick}>\n        <ModalWindow>{this.props.children}</ModalWindow>\n      </OverlayWindow>\n    );\n  }\n}\n\nexport default Modal;\n","import styled from \"@emotion/styled/macro\";\n\nexport const Searchform = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nexport const SearchformButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\nexport const SearchformButtonLabel = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\nexport const SearchformInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n","import React, { Component } from \"react\";\nimport {\n  Searchform,\n  SearchformButton,\n  SearchformButtonLabel,\n  SearchformInput,\n} from \"./SearchForm.styled\";\n\nexport class SearchForm extends Component {\n  render() {\n    return (\n      <Searchform onSubmit={this.props.handleInput}>\n        {/* <Searchform onSubmit={this.props.resetPage}> */}\n        <SearchformButton>\n          <SearchformButtonLabel>Search</SearchformButtonLabel>\n        </SearchformButton>\n\n        <SearchformInput\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autocomplete=\"off\"\n          placeholder=\"Search images and photos\"\n          name=\"inputValue\"\n          // onChange={this.props.handleInput}\n        ></SearchformInput>\n      </Searchform>\n    );\n  }\n}\nexport default SearchForm;\n","import styled from \"@emotion/styled/macro\";\n\nexport const Searchbar = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n","import React, { Component } from \"react\";\nimport SearchForm from \"../SearchForm/SearchForm\";\n\nimport { Searchbar } from \"./SearchBar.styled\";\n\nexport class SearchBar extends Component {\n  state = {};\n\n  render() {\n    return (\n      <Searchbar>\n        <SearchForm\n          handleInput={this.props.handleInputValue}\n          getItemsGalleryImages={this.props.getItemsGalleryImages}\n          resetPage={this.props.resetPage}\n        ></SearchForm>\n      </Searchbar>\n    );\n  }\n}\nexport default SearchBar;\n","import styled from \"@emotion/styled/macro\";\nexport const MessageContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\nexport const Message = styled.p``;\n","import axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport \"./App.css\";\nimport ButtonLoadMore from \"./components/ButtonLoadMore/ButtonLoadMore\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Modal from \"./components/Modal/Modal\";\nimport SearchBar from \"./components/SearchBar/SearchBar.jsx\";\nimport StartMessage from \"./components/StartMessage/StartMessage\";\nconst controller = new AbortController();\nconst signal = controller.signal;\nlet timer;\n\nconst App = () => {\n  const [inputValue, setInputValue] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [selectedImg, setSelectedImg] = useState(null);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n\n  const scrollTo = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n  const handleBackDropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      setShowModal(false);\n    }\n  };\n\n  const handleLargeImages = (e) => {\n    if (e.target.nodeName === \"IMG\") {\n      setShowModal(!showModal);\n      setSelectedImg(e.target.dataset.sorce);\n    }\n  };\n\n  const handleNextPage = () => {\n    setPage((prevPage) => prevPage + 1);\n\n    timer = setTimeout(() => {\n      scrollTo();\n    }, 300);\n  };\n  const resetPage = (e) => {\n    setImages([]);\n\n    setPage(1);\n    clearTimeout(timer);\n  };\n\n  const handleInputValue = (e) => {\n    e.preventDefault();\n\n    setInputValue(e.target.elements.inputValue.value);\n    resetPage();\n  };\n  const handleKeyDown = (e) => {\n    window.addEventListener(\"keydown\", (e) => {\n      if (e.code === \"Escape\") {\n        setShowModal(false);\n      }\n    });\n  };\n\n  // async function fetchGalleryImages(page) {\n  //   const response = await axios.get(\n  //     `https://pixabay.com/api/?q=${inputValue}&page=${page}&key=21657672-6f26057767faea3bb550eec99&image_type=photo&orientation=horizontal&per_page=12`,\n  //     { signal }\n  //   );\n  //   return response;\n  // }\n  // const getItemsGalleryImages = (e) => {\n  //   if (inputValue === \"\") {\n  //     return;\n  //   }\n\n  //   axios\n  //     .get(\n  //       `https://pixabay.com/api/?q=${inputValue}&page=${page}&key=21657672-6f26057767faea3bb550eec99&image_type=photo&orientation=horizontal&per_page=12`,\n  //       { signal }\n  //     )\n  //     .then(\n  //       (response) => setImages((state) => [...state, ...response.data.hits]),\n\n  //       setIsLoading(false)\n  //     )\n  //     .catch((error) => setError({ error }))\n  //     .finally(() => setIsLoading(false));\n\n  //   setIsLoading(true);\n  // };\n\n  useEffect(() => {\n    if (inputValue === \"\") {\n      return;\n    }\n\n    const getItemsGalleryImages = () => {\n      axios\n        .get(\n          `https://pixabay.com/api/?q=${inputValue}&page=${page}&key=21657672-6f26057767faea3bb550eec99&image_type=photo&orientation=horizontal&per_page=12`,\n          { signal }\n        )\n        .then(\n          (response) => setImages((state) => [...state, ...response.data.hits]),\n\n          setIsLoading(false)\n        )\n        .catch((error) => setError({ error }))\n        .finally(() => setIsLoading(false));\n\n      setIsLoading(true);\n    };\n\n    getItemsGalleryImages();\n    handleKeyDown();\n  }, [inputValue, page]);\n\n  return (\n    <div className=\"App\">\n      <SearchBar handleInputValue={handleInputValue} resetPage={resetPage} />\n\n      {isLoading ? (\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000}\n          style={{ display: \"flex\", justifyContent: \"center\" }}\n        />\n      ) : (\n        <ImageGallery\n          images={images}\n          handleLargeImages={handleLargeImages}\n          selectedImg={selectedImg}\n        ></ImageGallery>\n      )}\n      {error && <p>Whoops, something went wrong: {error.message}</p>}\n      {(images.length > 0 && (\n        <ButtonLoadMore handleNextPage={handleNextPage} />\n      )) || <StartMessage />}\n      {showModal && (\n        <Modal handleBackDropClick={handleBackDropClick}>\n          <img src={selectedImg} alt=\"\" />\n        </Modal>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React, { Component } from \"react\";\nimport { Message, MessageContainer } from \"./StartMessage.styled\";\n\nexport class StartMessage extends Component {\n  render() {\n    return (\n      <MessageContainer>\n        <Message>Please enter any word</Message>\n      </MessageContainer>\n    );\n  }\n}\n\nexport default StartMessage;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}